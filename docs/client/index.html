<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Graph Communications SDK </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Graph Communications SDK ">
    <meta name="generator" content="docfx 2.39.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../resources/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="graph-communications-sdk">Graph Communications SDK</h1>

<p>This SDK is the core component of Communications SDK. This contains all the standard features and functionality available in the Graph Stateful SDK.</p>
<h2 id="authentication-provider">Authentication Provider</h2>
<p>All calls made and received by the SDK must be authenticated by the bot developers. The SDK requires the developers to implement the <a class="xref" href="Microsoft.Graph.Communications.Client.Authentication.IRequestAuthenticationProvider.html">IRequestAuthenticationProvider</a> interface and specify it when building the <a class="xref" href="Microsoft.Graph.Communications.Client.ICommunicationsClient.html">ICommunicationsClient</a>.</p>
<p>There are two parts to the interface.</p>
<ul>
<li><code>AuthenticateOutboundRequestAsync</code>: This method should add the Authorization header to the outbound HTTP requests from the SDK.</li>
<li><code>AuthenticateOutboundRequestAsync</code>: This method should validate the Authorization header for incoming HTTP requests from Graph, extract the Tenant ID from that header and provide it to the SDK.</li>
</ul>
<p>Examples of the Authentication Provider can be found in <a href="https://github.com/microsoftgraph/microsoft-graph-comms-samples/blob/master/Samples/Common/Sample.Common/Authentication/AuthenticationProvider.cs">samples</a>.</p>
<h2 id="notification-handling">Notification Handling</h2>
<ol>
<li>The Graph Platform sends out notifications via HTTP that need to be handled by the Bot Developers. The Platform sends out notifications on the notification url, and the bot developers should listen to HTTP messages on that url. </li>
<li>Once the HTTP message has been received by the developer, they need to forward the message to <a class="xref" href="Microsoft.Graph.Communications.Client.ICommunicationsClient.html">ICommunicationsClient</a> using the <a class="xref" href="Microsoft.Graph.Communications.Client.CommunicationsClientExtensions.html#Microsoft_Graph_Communications_Client_CommunicationsClientExtensions_ProcessNotificationAsync_Microsoft_Graph_Communications_Client_ICommunicationsClient_System_Net_Http_HttpRequestMessage_">ProcessNotificationAsync</a> method.</li>
<li>The SDK processes the notification, calls the <code>IRequestAuthenticationProvider</code> and raises any corresponding events asynchronously.</li>
<li>The SDK then returns a <code>HttpResponseMessage</code> that needs to be sent out as a response to the Graph Platform.</li>
</ol>
<div class="NOTE"><h5>Note</h5><p>Developers using ASP.NET Core should convert the <code>HttpRequest</code> object into <code>HttpRequestMessage</code> before passing it to the SDK. Also, they need to convert the resulting <code>HttpResponseMessage</code> into <code>HttpResponse</code>.</p>
</div>
<hr>
<p>Select a class on the left to dive into the reference docs</p>
<h2 id="accompanying-information">Accompanying Information</h2>
<p>Accessing the Microsoft Teams Service through a Microsoft API Cloud Video Interop (CVI) partners and contact centers may integrate with Microsoft Teams to aid their solution. Contact centers may route calls to Microsoft Teams but may not build a separate or independent communications related solution while using Microsoft Teams as a base for the solution.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright (c) <b>Microsoft Corporation</b>. All rights reserved.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
