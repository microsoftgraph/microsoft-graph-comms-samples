<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class AudioSocket
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class AudioSocket
   ">
    <meta name="generator" content="docfx 2.39.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../resources/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Skype.Bots.Media.AudioSocket">
  
  
  <h1 id="Microsoft_Skype_Bots_Media_AudioSocket" data-uid="Microsoft.Skype.Bots.Media.AudioSocket" class="text-break">Class AudioSocket
  </h1>
  <div class="markdown level0 summary"><p>Provides Send and Receive I/O access to an audio stream.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">AudioSocket</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Microsoft.Skype.Bots.Media.IAudioSocket.html">IAudioSocket</a></div>
    <div><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.tostring#System_Object_ToString">Object.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.equals#System_Object_Equals_System_Object_">Object.Equals(Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.equals#System_Object_Equals_System_Object_System_Object_">Object.Equals(Object, Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.referenceequals#System_Object_ReferenceEquals_System_Object_System_Object_">Object.ReferenceEquals(Object, Object)</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gethashcode#System_Object_GetHashCode">Object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gettype#System_Object_GetType">Object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.memberwiseclone#System_Object_MemberwiseClone">Object.MemberwiseClone()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Microsoft.Skype.Bots.Media.html">Microsoft.Skype.Bots.Media</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Skype.Bots.Media.dll</h6>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class AudioSocket : IAudioSocket, IDisposable, IInternalAudioSocket, IInternalSocket</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket__ctor_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.#ctor*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket__ctor_Microsoft_Skype_Bots_Media_AudioSocketSettings_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.#ctor(Microsoft.Skype.Bots.Media.AudioSocketSettings)">AudioSocket(AudioSocketSettings)</h4>
  <div class="markdown level1 summary"><p>Initializes a new AudioSocket object.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public AudioSocket(AudioSocketSettings settings)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Skype.Bots.Media.AudioSocketSettings.html">AudioSocketSettings</a></td>
        <td><span class="parametername">settings</span></td>
        <td><p>Configuration settings for the AudioSocket</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket_Dispose_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.Dispose*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_Dispose" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.Dispose">Dispose()</h4>
  <div class="markdown level1 summary"><p>Disposes the object</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket_GetQualityOfExperienceData_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.GetQualityOfExperienceData*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_GetQualityOfExperienceData" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.GetQualityOfExperienceData">GetQualityOfExperienceData()</h4>
  <div class="markdown level1 summary"><p>Get the Quality of Experience (QoE) data for the audio socket.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public AudioQualityOfExperienceData GetQualityOfExperienceData()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Skype.Bots.Media.AudioQualityOfExperienceData.html">AudioQualityOfExperienceData</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_GetQualityOfExperienceData_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The bot should fetch the QoE data no more than once every 30 seconds.
To get accurate metrics, the bot should let media flow for at least 
30 seconds before fetching the QoE data.</p>
</div>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket_Send_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.Send*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_Send_Microsoft_Skype_Bots_Media_AudioMediaBuffer_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.Send(Microsoft.Skype.Bots.Media.AudioMediaBuffer)">Send(AudioMediaBuffer)</h4>
  <div class="markdown level1 summary"><p>Sends a frame of audio media, where a frame contains 20 milliseconds
of audio content (PCM samples).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Send(AudioMediaBuffer buffer)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Skype.Bots.Media.AudioMediaBuffer.html">AudioMediaBuffer</a></td>
        <td><span class="parametername">buffer</span></td>
        <td><p>AudioMediaBuffer containing the frame of audio media to send.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_Send_Microsoft_Skype_Bots_Media_AudioMediaBuffer__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The application must create a concrete class which derives from the
AudioMediaBuffer abstract class. The buffer object passed to the Send
method is still potentially in-use after the method returns to the
caller. The application must not free the buffer&apos;s frame data until the
the buffer object&apos;s Dispose() method is invoked by the Media Platform.
<p>
The application should be sending 50 frames of audio media per
second with each frame containing 20 milliseconds of audio content.
</p>
<p>
The AudioSocket must be enabled to send media via the <code>AudioSocketSettings.StreamDirections</code>
property.
</p></p>
</div>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTone_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.SendDtmfTone*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTone_Microsoft_Skype_Bots_Media_ToneId_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.SendDtmfTone(Microsoft.Skype.Bots.Media.ToneId)">SendDtmfTone(ToneId)</h4>
  <div class="markdown level1 summary"><p>Sends a DTMF tone.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SendDtmfTone(ToneId tone)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Skype.Bots.Media.ToneId.html">ToneId</a></td>
        <td><span class="parametername">tone</span></td>
        <td><p>The DTMF digit. Ranges from 0-16.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTone_Microsoft_Skype_Bots_Media_ToneId__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Sending DTMF tone is only allowed if the AudioSocket is configured for sending media.</p>
</div>
  <a id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTones_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.SendDtmfTones*"></a>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTones_System_Collections_Generic_IEnumerable_Microsoft_Skype_Bots_Media_ToneId__System_Int32_" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.SendDtmfTones(System.Collections.Generic.IEnumerable{Microsoft.Skype.Bots.Media.ToneId},System.Int32)">SendDtmfTones(IEnumerable&lt;ToneId&gt;, Int32)</h4>
  <div class="markdown level1 summary"><p>Sends a sequence of DTMF tones with an optional delay between each tone.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SendDtmfTones(IEnumerable&lt;ToneId&gt; tones, int delayBetweenTonesInMilliseconds = -1)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.ToneId.html">ToneId</a>&gt;</td>
        <td><span class="parametername">tones</span></td>
        <td><p>The list of DTMF digits to be sent. Ranges from 0-16.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.int32">Int32</a></td>
        <td><span class="parametername">delayBetweenTonesInMilliseconds</span></td>
        <td><p>Delay (in milliseconds) between each DTMF digit sent.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_SendDtmfTones_System_Collections_Generic_IEnumerable_Microsoft_Skype_Bots_Media_ToneId__System_Int32__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>By default, the delay is set to -1 which picks a random time between 0 to 500 milliseconds.</p>
</div>
  <h3 id="events">Events
  </h3>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_AudioMediaReceived" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.AudioMediaReceived">AudioMediaReceived</h4>
  <div class="markdown level1 summary"><p>If the application has configured the AudioSocket to receive media, this
event is raised each time a frame of audio media is received, where a frame
contains 20 milliseconds of audio content (PCM samples).
Once the application has consumed the buffer, it must call the buffer&apos;s
Dispose() method.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;AudioMediaReceivedEventArgs&gt; AudioMediaReceived</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.AudioMediaReceivedEventArgs.html">AudioMediaReceivedEventArgs</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Skype_Bots_Media_AudioSocket_AudioMediaReceived_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The application must be able to handle at least 50 incoming audio buffers
per second.
Events are serialized, so only one event at a time is raised to the app.
The event handler should return as quickly as possible; any time-consuming
per-frame processing should be performed asynchronously from the event handler.</p>
</div>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_AudioSendStatusChanged" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.AudioSendStatusChanged">AudioSendStatusChanged</h4>
  <div class="markdown level1 summary"><p>If the application has configured the AudioSocket to send media, this
event is raised to inform the application when it may begin sending
media and when it should stop. The application cannot send media before
receiving a MediaSendStatusChanged event indicating the SendStatus is 
Active, such media will be discarded.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;AudioSendStatusChangedEventArgs&gt; AudioSendStatusChanged</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.AudioSendStatusChangedEventArgs.html">AudioSendStatusChangedEventArgs</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_DominantSpeakerChanged" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.DominantSpeakerChanged">DominantSpeakerChanged</h4>
  <div class="markdown level1 summary"><p>This event is raised when there is a change in the dominant speaker in the conference.
If there is no dominant speaker in the conference the CurrentDominantSpeaker argument in the event will have the value None (0xFFFFFFFF).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;DominantSpeakerChangedEventArgs&gt; DominantSpeakerChanged</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.DominantSpeakerChangedEventArgs.html">DominantSpeakerChangedEventArgs</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_MediaStreamFailure" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.MediaStreamFailure">MediaStreamFailure</h4>
  <div class="markdown level1 summary"><p>This event is raised if there is a network connection failure with the peer. To recover, the bot
will need to start a new call or rejoin the meeting.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;MediaStreamFailureEventArgs&gt; MediaStreamFailure</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.MediaStreamFailureEventArgs.html">MediaStreamFailureEventArgs</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h4 id="Microsoft_Skype_Bots_Media_AudioSocket_ToneReceived" data-uid="Microsoft.Skype.Bots.Media.AudioSocket.ToneReceived">ToneReceived</h4>
  <div class="markdown level1 summary"><p>This event is raised when the DTMF tone is received. ToneId enum indicates the tone value.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;ToneReceivedEventArgs&gt; ToneReceived</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="Microsoft.Skype.Bots.Media.ToneReceivedEventArgs.html">ToneReceivedEventArgs</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Microsoft.Skype.Bots.Media.IAudioSocket.html">IAudioSocket</a>
  </div>
  <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable">System.IDisposable</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright (c) <b>Microsoft Corporation</b>. All rights reserved.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
